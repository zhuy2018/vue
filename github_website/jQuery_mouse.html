<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>首页 - jQuery获取鼠标滑入div的方向</title>
<link href="css/basic.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
<script type="text/javascript" src="js/index_zong.js"></script>
<script type="text/javascript">
$(function (){
	$('.name').on('mouseover', function(e){
	  var divX = $(this).offset().left;   //div的左上角X坐标
	  var divY = $(this).offset().top;    //div的左上角Y
	  var width = $(this).width();
	  var height = $(this).height();
	  var mX = e.pageX;                   //鼠标进入div中的点坐标
	  var mY = e.pageY;                   //鼠标进入div中的点坐标
	  var rx = mX - divX;                 //相减得出要判断的点的横坐标
	  var ry = mY - divY;                 //相减得出要判断的点的纵坐标
	  var scale = height/width;           ///对角线1的斜率
	  tmp = scale * rx;                   //可以理解为x坐标下对角线上的点...那么 300-tmp就是对角线2上的点
	  $pic = $(this).find('.pic');
	  $pic.removeAttr('class').addClass('pic');
	  if(ry < tmp && ry < (300 - tmp)){
		$('.name').html('上入');
		$pic.addClass('from-top');
	  } else if(ry < (300 - tmp) && ry > tmp){
		$('.name').html('左入');
		$pic.addClass('from-left');
	  } else if(ry > (300 - tmp) && ry < tmp){
		$('.name').html('右入');
		$pic.addClass('from-right');
	  } else {
		$('.name').html('下入');
		$pic.addClass('from-bottom');
	  }
	  $pic.css('z-index',3);
	
	})
})
</script>
</head>

<body>
<div class="name" style="width:200px; height:200px; border:1px solid red; margin:100px auto 0; font-size:20px;"></div>
</body>
</html>
