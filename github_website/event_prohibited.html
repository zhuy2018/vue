<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>首页 - JS事件——禁止事件冒泡和禁止默认事件</title>
<link href="css/basic.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
<script type="text/javascript" src="js/index_zong.js"></script>
<style type="text/css">
.index{width:720px;margin:0 auto 80px;font: 14px/1.5 tahoma,arial,"Hiragino Sans GB",\5b8b\4f53;}
.index h2{font-size:32px;margin:0 0 22px;}
.index span {
    display: block;
    margin: 30px 0 10px;
    color: #A7AAB1;
    font-size: 15px;
    line-height: 22px;
}
.h2{ font-size:18px; margin:20px 0 10px;}
.div1 p{ width:100%;text-align: justify; line-height:30px; text-indent:26px;}
.div1{width:720px;padding:0 0 30px;margin:0 auto 60px; font-size:14px;}
</style>
</head>

<body>
<div class="index">
  <h2>JS事件——禁止事件冒泡和禁止默认事件</h2>
  <span> 2016-10-09 </span>
</div>

<div class="div1">
  <p>Event 对象</p>
  <p>Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p>
  <p>事件通常与函数结合使用，函数不会在事件发生前被执行！</p>
  <br />
  
  <h2>一、什么是事件冒泡</h2>
  <p>在一个对象上触发某类事件（比如单击onclick事件），如果此对象定义了此事件的处理程序，那么此事件就会调用这个处理程序，如果没有定义此事件处理程序或者事件返回true，那么这个事件会向这个对象的父级对象传播，即事件由子元素向祖先元素传播，从里到外，直至它被处理（父级对象所有同类事件都将被激活），或者它到达了对象层次的最顶层，即document对象（有些浏览器是window）。</p>
  
  <br />
  <h2>二、事件冒泡有什么作用</h2>
  <p>（1）事件冒泡允许多个操作被集中处理（把事件处理器添加到一个父级元素上，避免把事件处理器添加到多个子级元素上），它还可以让你在对象层的不同级别捕获事件。</p>
  <p>（2）让不同的对象同时捕获同一事件，并调用自己的专属处理程序做自己的事情，就像老板一下命令，各自员工做自己岗位上的工作去了。</p>
  
  <br />
  <h2>三、需要注意什么</h2>
  <p>●在我们使用的所有浏览器中，都支持事件冒泡 ，即事件由子元素向祖先元素传播的，就 像气泡从水底向水面上浮一样。<br />
  而在像firefox,chrome,safari这类所谓的标准浏览器中，事件传播还有个阶段，那就是捕获阶段，事实上，捕获阶段是一个和冒泡阶段完全相反的过程
  即事件由祖先元素向子元素传播，要说明的是在 IE，opera浏览器中，是不存在这个阶段的。</p>
  <p>●不是所有的事件都能冒泡。以下事件不冒泡：blur、focus、load、unload。</p>
  <p>●事件捕获方式在不同浏览器，甚至同种浏览器的不同版本中是有所区别的。如Netscape4.0采用捕获型事件解决方案，其它多数浏览器则支持冒泡型事件解决方案，另外DOM事件流还支持文本节点事件冒泡。</p>
  <p>●事件捕获到达顶层的目标在不同浏览器或不同浏览器版本也是有区别的。在IE6中HTML是接收事件冒泡的，另外大部分浏览器将冒泡延续到window对象，即……body→documen→window。</p>
  <p>●阻止冒泡并不能阻止对象默认行为。比如submit按钮被点击后会提交表单数据，这种行为无须我们写程序定制。</p>
  
  <br />
  <p>1、禁止事件冒泡</p>
  <div class="div1" style="width:88%; line-height:30px; margin-bottom:0;">
    function stopBubble(e) { <br>
    //如果提供了事件对象，则这是一个非IE浏览器 <br>
    if ( e &amp;&amp; e.stopPropagation ) <br>
    &nbsp; &nbsp; //因此它支持W3C的stopPropagation()方法 <br>
    &nbsp; &nbsp; e.stopPropagation(); <br>
    else<br>
    &nbsp; &nbsp; //否则，我们需要使用IE的方式来取消事件冒泡 <br>
    &nbsp; &nbsp; window.event.cancelBubble = true; <br>
    }<br>
  </div>
  <p>2、禁止默认事件</p>
  <div class="div1" style="width:88%; line-height:30px;">
    //阻止浏览器的默认行为 <br>
    function stopDefault( e ) { <br>
    &nbsp; &nbsp; //阻止默认浏览器动作(W3C) <br>
    &nbsp; &nbsp; if ( e &amp;&amp; e.preventDefault ) <br>
    &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;e.preventDefault(); <br>
    &nbsp; &nbsp; //IE中阻止函数器默认动作的方式 <br>
    &nbsp; &nbsp; else<br>
    &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;window.event.returnValue = false; <br>
    &nbsp; &nbsp; return false; <br>
    }
  </div>
</div>
</body>
</html>